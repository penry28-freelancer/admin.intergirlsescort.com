/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./resources/src/js/utils/helpers.js":
/*!*******************************************!*\
  !*** ./resources/src/js/utils/helpers.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateStateURL": () => (/* binding */ updateStateURL)
/* harmony export */ });
var updateStateURL = function updateStateURL() {
  var newState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '?';

  if (history.pushState) {
    var newurl = window.location.protocol + "//" + window.location.host + window.location.pathname + newState;
    window.history.pushState({
      path: newurl
    }, '', newurl);
  }
};

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!************************************************************!*\
  !*** ./resources/src/js/views/calculate-graduate-score.js ***!
  \************************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/helpers.js */ "./resources/src/js/utils/helpers.js");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }



(function ($) {
  var GraduateScore = {};
  GraduateScore.toanScore = "[data-input-score='toan']";
  GraduateScore.vanScore = "[data-input-score='van']";
  GraduateScore.ngoainguScore = "[data-input-score='ngoai-ngu']";
  GraduateScore.mon1tohopScore = "[data-input-score='mon-1-tohop']";
  GraduateScore.mon2tohopScore = "[data-input-score='mon-2-tohop']";
  GraduateScore.mon3tohopScore = "[data-input-score='mon-3-tohop']";
  GraduateScore.cn12Score = "[data-input-score='tb-cn-12']";
  GraduateScore.khuyenkhichScore = "[data-input-score='khuyen-khich']";
  GraduateScore.uutienScore = "[data-input-score='uu-tien']";
  GraduateScore.khoithi = "[data-input-type='khoithi']";
  GraduateScore.dxtn = 0;
  GraduateScore.type = 0;
  GraduateScore.passedGraduation = false; // Listen tab panel change to update url

  $('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
    var hrefTab = $(this).attr('data-href-tab');

    if (hrefTab === 'he-gdtx') {
      $(GraduateScore.ngoainguScore).val('');
      $(GraduateScore.ngoainguScore).prop('disabled', true);
      $(GraduateScore.ngoainguScore).removeClass('is-invalid');
    } else {
      $(GraduateScore.ngoainguScore).prop('disabled', false);
    }
  }); // =========================================
  // Calculate Graduate Score Handler
  // =========================================
  // Initial form

  loadFormByCondition();
  $(GraduateScore.khoithi).on('change', loadFormByCondition);

  function loadFormByCondition() {
    var khoithi = $(GraduateScore.khoithi).val();
    var lable1 = $(GraduateScore.mon1tohopScore).parent().find('label');
    var lable2 = $(GraduateScore.mon2tohopScore).parent().find('label');
    var lable3 = $(GraduateScore.mon3tohopScore).parent().find('label');

    switch (khoithi) {
      case 'khtn':
        lable1.html("<strong>[ L\xFD ]</strong> M\xF4n 1 t\u1ED5 h\u1EE3p");
        lable2.html("<strong>[ H\xF3a ]</strong> M\xF4n 2 t\u1ED5 h\u1EE3p");
        lable3.html("<strong>[ Sinh ]</strong> M\xF4n 3 t\u1ED5 h\u1EE3p");
        break;

      case 'khxh':
        lable1.html("<strong>[ S\u1EED ]</strong> M\xF4n 1 t\u1ED5 h\u1EE3p");
        lable2.html("<strong>[ \u0110\u1ECBa ]</strong> M\xF4n 2 t\u1ED5 h\u1EE3p");
        lable3.html("<strong>[ C\xF4ng d\xE2n ]</strong> M\xF4n 3 t\u1ED5 h\u1EE3p");
        break;

      default:
    }
  } // Handle reset data form


  $('[data-button="reset"]').on('click', function () {
    $("[data-form='calculate-graduate-score']")[0].reset();
    $("[data-form='calculate-graduate-score']").validate().resetForm();
  });
  $(function () {
    $("[data-form='calculate-graduate-score']").validate({
      rules: {
        "toanScore": {
          required: true,
          number: true,
          range: [1, 10]
        },
        "vanScore": {
          required: true,
          number: true,
          range: [1, 10]
        },
        "ngoainguScore": {
          required: true,
          number: true,
          range: [1, 10]
        },
        "mon1tohopScore": {
          required: true,
          number: true,
          range: [1, 10]
        },
        "mon2tohopScore": {
          required: true,
          number: true,
          range: [1, 10]
        },
        "mon3tohopScore": {
          required: true,
          number: true,
          range: [1, 10]
        },
        "cn12Score": {
          required: true,
          number: true,
          range: [1, 10]
        },
        "khuyenkhichScore": {
          required: false,
          number: true,
          range: [1, 10]
        },
        "uutienScore": {
          required: false,
          number: true,
          range: [1, 10]
        }
      },
      messages: {
        "toanScore": {
          required: "Vui lòng nhập điểm",
          number: "Điểm yêu cầu phải là một số",
          range: "Điểm số nằm trong khoản từ 1-10"
        },
        "vanScore": {
          required: "Vui lòng nhập điểm",
          number: "Điểm yêu cầu phải là một số",
          range: "Điểm số nằm trong khoản từ 1-10"
        },
        "ngoainguScore": {
          required: "Vui lòng nhập điểm",
          number: "Điểm yêu cầu phải là một số",
          range: "Điểm số nằm trong khoản từ 1-10"
        },
        "mon1tohopScore": {
          required: "Vui lòng nhập điểm",
          number: "Điểm yêu cầu phải là một số",
          range: "Điểm số nằm trong khoản từ 1-10"
        },
        "mon2tohopScore": {
          required: "Vui lòng nhập điểm",
          number: "Điểm yêu cầu phải là một số",
          range: "Điểm số nằm trong khoản từ 1-10"
        },
        "mon3tohopScore": {
          required: "Vui lòng nhập điểm",
          number: "Điểm yêu cầu phải là một số",
          range: "Điểm số nằm trong khoản từ 1-10"
        },
        "cn12Score": {
          required: "Vui lòng nhập điểm",
          number: "Điểm yêu cầu phải là một số",
          range: "Điểm số nằm trong khoản từ 1-10"
        },
        "khuyenkhichScore": {
          number: "Điểm yêu cầu phải là một số",
          range: "Điểm số nằm trong khoản từ 1-10"
        },
        "uutienScore": {
          number: "Điểm yêu cầu phải là một số",
          range: "Điểm số nằm trong khoản từ 1-10"
        }
      },
      submitHandler: function submitHandler() {
        calculateGraduateScoreHandler();
      }
    });

    function calculateGraduateScoreHandler() {
      var _0xf943x2 = +$(GraduateScore.toanScore).val();

      var _0xf943x3 = +$(GraduateScore.vanScore).val();

      var _0xf943x4 = +$(GraduateScore.ngoainguScore).val();

      var _0xf943x5 = +$(GraduateScore.mon1tohopScore).val();

      var _0xf943x6 = +$(GraduateScore.mon2tohopScore).val();

      var _0xf943x7 = +$(GraduateScore.mon3tohopScore).val();

      var _0xf943x8 = +$(GraduateScore.cn12Score).val();

      var _0xf943x9 = +$(GraduateScore.khuyenkhichScore).val();

      var _0xf943xa = +$(GraduateScore.uutienScore).val();

      var typeScore = $('a[data-toggle="tab"].active').attr('data-href-tab');

      if (_0xf943x2 <= 1 || _0xf943x3 <= 1 || _0xf943x5 <= 1 || _0xf943x6 <= 1 || _0xf943x7 <= 1 || typeScore === 'he-gd-thpt' && _0xf943x4 <= 1) {
        GraduateScore.passedGraduation = false;
        GraduateScore.type = 1;
      } else {
        var showResult = function showResult() {
          var khoithi = $(GraduateScore.khoithi).val();
          var score = {};

          switch (khoithi) {
            case 'khtn':
              score.ly = _0xf943x5;
              score.hoa = _0xf943x6;
              score.sinh = _0xf943x7;
              break;

            case 'khxh':
              score.su = _0xf943x5;
              score.dia = _0xf943x6;
              score.cd = _0xf943x7;
              break;

            default:
          }

          score.toan = _0xf943x2;
          score.van = _0xf943x3;
          score.anh = _0xf943x4;
          var scoreParamsTxt = [];

          for (var _i = 0, _Object$entries = Object.entries(score); _i < _Object$entries.length; _i++) {
            var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),
                key = _Object$entries$_i[0],
                value = _Object$entries$_i[1];

            scoreParamsTxt.push("score[".concat(key, "]=").concat(value));
          }

          (0,_utils_helpers_js__WEBPACK_IMPORTED_MODULE_0__.updateStateURL)("?tab=result&type=".concat(GraduateScore.type, "&score[tn]=").concat(GraduateScore.dxtn, "&").concat(scoreParamsTxt.join('&')));
          location.reload();
        };

        var _0xf943xb = (_0xf943x5 + _0xf943x6 + _0xf943x7) / 3;

        var _0xf943xc = 0;

        switch (typeScore) {
          case 'he-gd-thpt':
            _0xf943xc = (_0xf943x2 + _0xf943x3 + _0xf943x4 + _0xf943xb + _0xf943x9) / 4;
            break;

          case 'he-gdtx':
            _0xf943xc = (_0xf943x2 + _0xf943x3 + _0xf943xb + _0xf943x9) / 3;
            break;

          default:
            throw new Error('Hệ giáo dục khồng tồn tại');
        }

        var _0xf943xd = _0xf943xc * 0.7 + _0xf943x8 * 0.3 + _0xf943xa;

        var _0xf943xe = _0xf943xd['toFixed'](2);

        GraduateScore.dxtn = +_0xf943xe;
        GraduateScore.type = 2;
        showResult();
      }
    }
  });
})(jQuery);
})();

/******/ })()
;
//# sourceMappingURL=calculate-graduate-score.min.js.map